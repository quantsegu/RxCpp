<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>RxCpp: /home/travis/build/Reactive-Extensions/RxCpp/Rx/v2/src/rxcpp/rx-util.hpp Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">RxCpp
   
   </div>
   <div id="projectbrief">The Reactive Extensions for Native (RxCpp) is a library for composing asynchronous and event-based programs using observable sequences and LINQ-style query operators in both C and C++.</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">/home/travis/build/Reactive-Extensions/RxCpp/Rx/v2/src/rxcpp/rx-util.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="rx-util_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// Copyright (c) Microsoft Open Technologies, Inc. All rights reserved. See License.txt in the project root for license information.</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <span class="preprocessor">#pragma once</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span>
<a name="l00005"></a>00005 <span class="preprocessor">#if !defined(RXCPP_RX_UTIL_HPP)</span>
<a name="l00006"></a>00006 <span class="preprocessor"></span><span class="preprocessor">#define RXCPP_RX_UTIL_HPP</span>
<a name="l00007"></a>00007 <span class="preprocessor"></span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &quot;<a class="code" href="rx-includes_8hpp.html">rx-includes.hpp</a>&quot;</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="preprocessor">#if !defined(RXCPP_ON_IOS) &amp;&amp; !defined(RXCPP_THREAD_LOCAL)</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span><span class="preprocessor">#if defined(_MSC_VER)</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span><span class="preprocessor">#define RXCPP_THREAD_LOCAL __declspec(thread)</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span><span class="preprocessor">#define RXCPP_THREAD_LOCAL __thread</span>
<a name="l00015"></a>00015 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00016"></a>00016 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00017"></a>00017 <span class="preprocessor"></span>
<a name="l00018"></a>00018 <span class="preprocessor">#if !defined(RXCPP_DELETE)</span>
<a name="l00019"></a>00019 <span class="preprocessor"></span><span class="preprocessor">#if defined(_MSC_VER)</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span><span class="preprocessor">#define RXCPP_DELETE __pragma(warning(disable: 4822)) =delete</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span><span class="preprocessor">#define RXCPP_DELETE =delete</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span>
<a name="l00026"></a><a class="code" href="rx-util_8hpp.html#a110f1368d29a8eec6c439a181f545e45">00026</a> <span class="preprocessor">#define RXCPP_CONCAT(Prefix, Suffix) Prefix ## Suffix</span>
<a name="l00027"></a><a class="code" href="rx-util_8hpp.html#aef1f7af76cd52d82ea8b492715b98391">00027</a> <span class="preprocessor"></span><span class="preprocessor">#define RXCPP_CONCAT_EVALUATE(Prefix, Suffix) RXCPP_CONCAT(Prefix, Suffix)</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span>
<a name="l00029"></a><a class="code" href="rx-util_8hpp.html#ae091b13ea40eda09b4d1eaa4af11abc8">00029</a> <span class="preprocessor">#define RXCPP_MAKE_IDENTIFIER(Prefix) RXCPP_CONCAT_EVALUATE(Prefix, __LINE__)</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span>
<a name="l00031"></a>00031 <span class="keyword">namespace </span>rxcpp {
<a name="l00032"></a>00032 
<a name="l00033"></a><a class="code" href="namespacerxcpp_1_1util.html">00033</a> <span class="keyword">namespace </span>util {
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="keyword">using</span> value_type_t = <span class="keyword">typename</span> T::value_type;
<a name="l00036"></a>00036 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="keyword">using</span> decay_t = <span class="keyword">typename</span> std::decay&lt;T&gt;::type;
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T, <span class="keywordtype">size_t</span> size&gt;
<a name="l00039"></a><a class="code" href="namespacerxcpp_1_1util.html#a794bfcb82879b82db7c4dc21ec222e13">00039</a> std::vector&lt;T&gt; <a class="code" href="namespacerxcpp_1_1util.html#a794bfcb82879b82db7c4dc21ec222e13">to_vector</a>(<span class="keyword">const</span> T (&amp;arr) [size]) {
<a name="l00040"></a>00040     <span class="keywordflow">return</span> std::vector&lt;T&gt;(std::begin(arr), std::end(arr));
<a name="l00041"></a>00041 }
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00044"></a><a class="code" href="namespacerxcpp_1_1util.html#a6e333f1e3c82310694e89904af1e6e7b">00044</a> std::vector&lt;T&gt; <a class="code" href="namespacerxcpp_1_1util.html#a794bfcb82879b82db7c4dc21ec222e13">to_vector</a>(std::initializer_list&lt;T&gt; il) {
<a name="l00045"></a>00045     <span class="keywordflow">return</span> std::vector&lt;T&gt;(il);
<a name="l00046"></a>00046 }
<a name="l00047"></a>00047 
<a name="l00048"></a>00048 <span class="keyword">template</span>&lt;<span class="keyword">class </span>T0, <span class="keyword">class</span>... TN&gt;
<a name="l00049"></a><a class="code" href="namespacerxcpp_1_1util.html#a4ee5c52cd7881b45955cebc0abad3d8a">00049</a> <span class="keyword">typename</span> std::enable_if&lt;!std::is_array&lt;T0&gt;::value &amp;&amp; std::is_pod&lt;T0&gt;::value, std::vector&lt;T0&gt;&gt;::type <a class="code" href="namespacerxcpp_1_1util.html#a794bfcb82879b82db7c4dc21ec222e13">to_vector</a>(T0 t0, TN... tn) {
<a name="l00050"></a>00050     <span class="keywordflow">return</span> <a class="code" href="namespacerxcpp_1_1util.html#a794bfcb82879b82db7c4dc21ec222e13">to_vector</a>({t0, tn...});
<a name="l00051"></a>00051 }
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 <span class="keyword">template</span>&lt;<span class="keyword">class </span>T, T... ValueN&gt;
<a name="l00054"></a><a class="code" href="structrxcpp_1_1util_1_1values.html">00054</a> <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1values.html">values</a> {};
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="keyword">template</span>&lt;<span class="keyword">class </span>T, <span class="keywordtype">int</span> Remaining, T Step = 1, T Cursor = 0, T... ValueN&gt;
<a name="l00057"></a>00057 <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1values__from.html">values_from</a>;
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 <span class="keyword">template</span>&lt;<span class="keyword">class </span>T, T Step, T Cursor, T... ValueN&gt;
<a name="l00060"></a><a class="code" href="structrxcpp_1_1util_1_1values__from_3_01_t_00_010_00_01_step_00_01_cursor_00_01_value_n_8_8_8_4.html">00060</a> <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1values__from.html">values_from</a>&lt;T, 0, Step, Cursor, ValueN...&gt;
<a name="l00061"></a>00061 {
<a name="l00062"></a><a class="code" href="structrxcpp_1_1util_1_1values__from_3_01_t_00_010_00_01_step_00_01_cursor_00_01_value_n_8_8_8_4.html#a248176d36f83d25065f0a218d3086341">00062</a>     <span class="keyword">typedef</span> <a class="code" href="structrxcpp_1_1util_1_1values.html">values</a>&lt;T, ValueN...&gt; <a class="code" href="structrxcpp_1_1util_1_1values__from_3_01_t_00_010_00_01_step_00_01_cursor_00_01_value_n_8_8_8_4.html#a248176d36f83d25065f0a218d3086341">type</a>;
<a name="l00063"></a>00063 };
<a name="l00064"></a>00064 
<a name="l00065"></a>00065 <span class="keyword">template</span>&lt;<span class="keyword">class </span>T, <span class="keywordtype">int</span> Remaining, T Step, T Cursor, T... ValueN&gt;
<a name="l00066"></a><a class="code" href="structrxcpp_1_1util_1_1values__from.html">00066</a> <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1values__from.html">values_from</a>
<a name="l00067"></a>00067 {
<a name="l00068"></a><a class="code" href="structrxcpp_1_1util_1_1values__from.html#a3a2f2a8d9f37ec1143205904f5477abf">00068</a>     <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structrxcpp_1_1util_1_1values__from.html">values_from</a>&lt;T, Remaining - 1, Step, Cursor + Step, ValueN..., Cursor&gt;<a class="code" href="structrxcpp_1_1util_1_1values__from.html#a3a2f2a8d9f37ec1143205904f5477abf">::type</a> <a class="code" href="structrxcpp_1_1util_1_1values__from.html#a3a2f2a8d9f37ec1143205904f5477abf">type</a>;
<a name="l00069"></a>00069 };
<a name="l00070"></a>00070 
<a name="l00071"></a>00071 <span class="keyword">template</span>&lt;<span class="keywordtype">bool</span>... BN&gt;
<a name="l00072"></a>00072 <span class="keyword">struct </span>all_true;
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 <span class="keyword">template</span>&lt;<span class="keywordtype">bool</span> B0&gt;
<a name="l00075"></a><a class="code" href="structrxcpp_1_1util_1_1all__true_3_01_b0_01_4.html">00075</a> <span class="keyword">struct </span>all_true&lt;B0&gt;
<a name="l00076"></a>00076 {
<a name="l00077"></a><a class="code" href="structrxcpp_1_1util_1_1all__true_3_01_b0_01_4.html#a73a647745343d0bce811d7374f135b40">00077</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> value = B0;
<a name="l00078"></a>00078 };
<a name="l00079"></a>00079 <span class="keyword">template</span>&lt;<span class="keywordtype">bool</span> B0, <span class="keywordtype">bool</span>... BN&gt;
<a name="l00080"></a><a class="code" href="structrxcpp_1_1util_1_1all__true_3_01_b0_00_01_b_n_8_8_8_4.html">00080</a> <span class="keyword">struct </span>all_true&lt;B0, BN...&gt;
<a name="l00081"></a>00081 {
<a name="l00082"></a><a class="code" href="structrxcpp_1_1util_1_1all__true_3_01_b0_00_01_b_n_8_8_8_4.html#a0e0c2fd23e8cace526b05a9ebf3d88f7">00082</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> value = B0 &amp;&amp; all_true&lt;BN...&gt;::value;
<a name="l00083"></a>00083 };
<a name="l00084"></a>00084 
<a name="l00085"></a><a class="code" href="structrxcpp_1_1util_1_1all__values__true.html">00085</a> <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1all__values__true.html">all_values_true</a> {
<a name="l00086"></a>00086     <span class="keyword">template</span>&lt;<span class="keyword">class</span>... ValueN&gt;
<a name="l00087"></a>00087     <span class="keywordtype">bool</span> <a class="code" href="structrxcpp_1_1util_1_1all__values__true.html#aa741590d80a8963345c0100fbf54926c">operator()</a>(ValueN... vn) <span class="keyword">const</span>;
<a name="l00088"></a>00088 
<a name="l00089"></a>00089     <span class="keyword">template</span>&lt;<span class="keyword">class</span> Value0&gt;
<a name="l00090"></a><a class="code" href="structrxcpp_1_1util_1_1all__values__true.html#aca790f4baaba3ab18511e38e4ca2b365">00090</a>     <span class="keywordtype">bool</span> <a class="code" href="structrxcpp_1_1util_1_1all__values__true.html#aca790f4baaba3ab18511e38e4ca2b365">operator()</a>(Value0 v0)<span class="keyword"> const </span>{
<a name="l00091"></a>00091         <span class="keywordflow">return</span> v0;
<a name="l00092"></a>00092     }
<a name="l00093"></a>00093 
<a name="l00094"></a>00094     <span class="keyword">template</span>&lt;<span class="keyword">class </span>Value0, <span class="keyword">class</span>... ValueN&gt;
<a name="l00095"></a><a class="code" href="structrxcpp_1_1util_1_1all__values__true.html#aca14e0a78ba9df0d2b43bb86027f4f88">00095</a>     <span class="keywordtype">bool</span> <a class="code" href="structrxcpp_1_1util_1_1all__values__true.html#aca14e0a78ba9df0d2b43bb86027f4f88">operator()</a>(Value0 v0, ValueN... vn)<span class="keyword"> const </span>{
<a name="l00096"></a>00096         <span class="keywordflow">return</span> v0 &amp;&amp; <a class="code" href="structrxcpp_1_1util_1_1all__values__true.html">all_values_true</a>()(vn...);
<a name="l00097"></a>00097     }
<a name="l00098"></a>00098 };
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 <span class="keyword">template</span>&lt;<span class="keyword">class</span>... TN&gt;
<a name="l00101"></a>00101 <span class="keyword">struct </span>types;
<a name="l00102"></a>00102 
<a name="l00103"></a>00103 <span class="comment">//</span>
<a name="l00104"></a>00104 <span class="comment">// based on Walter Brown&#39;s void_t proposal</span>
<a name="l00105"></a>00105 <span class="comment">// http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n3911.pdf</span>
<a name="l00106"></a>00106 <span class="comment">//</span>
<a name="l00107"></a>00107 
<a name="l00108"></a><a class="code" href="structrxcpp_1_1util_1_1types__checked.html">00108</a> <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1types__checked.html">types_checked</a> {};
<a name="l00109"></a>00109 
<a name="l00110"></a><a class="code" href="namespacerxcpp_1_1util_1_1detail.html">00110</a> <span class="keyword">namespace </span>detail {
<a name="l00111"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1types__checked__from.html#a23e6369bf8d2d23fb1b99768fa9fd7cd">00111</a> <span class="keyword">template</span>&lt;<span class="keyword">class</span>... TN&gt; <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1detail_1_1types__checked__from.html">types_checked_from</a> {<span class="keyword">typedef</span> <a class="code" href="structrxcpp_1_1util_1_1types__checked.html">types_checked</a> <a class="code" href="structrxcpp_1_1util_1_1detail_1_1types__checked__from.html#a23e6369bf8d2d23fb1b99768fa9fd7cd">type</a>;};
<a name="l00112"></a>00112 }
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 <span class="keyword">template</span>&lt;<span class="keyword">class</span>... TN&gt;
<a name="l00115"></a><a class="code" href="structrxcpp_1_1util_1_1types__checked__from.html#af15f8aa0094d83853e28d6478a665190">00115</a> <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1types__checked__from.html">types_checked_from</a> {<span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structrxcpp_1_1util_1_1detail_1_1types__checked__from.html">detail::types_checked_from</a>&lt;TN...&gt;<a class="code" href="structrxcpp_1_1util_1_1types__checked.html">::type</a> <a class="code" href="structrxcpp_1_1util_1_1types__checked__from.html#af15f8aa0094d83853e28d6478a665190">type</a>;};
<a name="l00116"></a>00116 
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T, <span class="keyword">class</span> C = types_checked&gt;
<a name="l00120"></a><a class="code" href="structrxcpp_1_1util_1_1value__type__from.html#a21e30f6f8b9b788dfca87eb83ce9243f">00120</a> <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1value__type__from.html">value_type_from</a> : <span class="keyword">public</span> std::<a class="code" href="classstd_1_1false__type.html">false_type</a> {<span class="keyword">typedef</span> <a class="code" href="structrxcpp_1_1util_1_1types__checked.html">types_checked</a> <a class="code" href="structrxcpp_1_1util_1_1value__type__from.html#a21e30f6f8b9b788dfca87eb83ce9243f">type</a>;};
<a name="l00121"></a>00121 
<a name="l00122"></a>00122 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00123"></a><a class="code" href="structrxcpp_1_1util_1_1value__type__from_3_01_t_00_01typename_01types__checked__from_3_01value__936cc9ecba56326d7b819956af6df7b4.html">00123</a> <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1value__type__from.html">value_type_from</a>&lt;T, typename <a class="code" href="structrxcpp_1_1util_1_1types__checked__from.html">types_checked_from</a>&lt;value_type_t&lt;T&gt;&gt;::<a class="code" href="structrxcpp_1_1util_1_1value__type__from_3_01_t_00_01typename_01types__checked__from_3_01value__936cc9ecba56326d7b819956af6df7b4.html#ac9a9a586410df2e34eb2ef31dcaca5bb">type</a>&gt;
<a name="l00124"></a><a class="code" href="structrxcpp_1_1util_1_1value__type__from_3_01_t_00_01typename_01types__checked__from_3_01value__936cc9ecba56326d7b819956af6df7b4.html#ac9a9a586410df2e34eb2ef31dcaca5bb">00124</a>     : <span class="keyword">public</span> std::true_type {<span class="keyword">typedef</span> value_type_t&lt;T&gt; <a class="code" href="structrxcpp_1_1util_1_1value__type__from_3_01_t_00_01typename_01types__checked__from_3_01value__936cc9ecba56326d7b819956af6df7b4.html#ac9a9a586410df2e34eb2ef31dcaca5bb">type</a>;};
<a name="l00125"></a>00125 
<a name="l00126"></a>00126 
<a name="l00127"></a>00127 
<a name="l00128"></a>00128 <span class="keyword">namespace </span>detail {
<a name="l00129"></a>00129 
<a name="l00130"></a>00130 <span class="keyword">template</span>&lt;<span class="keyword">class </span>F, <span class="keyword">class</span>... ParamN, <span class="keywordtype">int</span>... IndexN&gt;
<a name="l00131"></a><a class="code" href="namespacerxcpp_1_1util_1_1detail.html#ac3c0b6543128c5781c3dda91f2f986fd">00131</a> <span class="keyword">auto</span> <a class="code" href="namespacerxcpp_1_1util_1_1detail.html#ac3c0b6543128c5781c3dda91f2f986fd">apply</a>(std::tuple&lt;ParamN...&gt; p, <a class="code" href="structrxcpp_1_1util_1_1values.html">values&lt;int, IndexN...&gt;</a>, F&amp; f)
<a name="l00132"></a>00132     -&gt; decltype(f(std::forward&lt;ParamN&gt;(std::get&lt;IndexN&gt;(p))...)) {
<a name="l00133"></a>00133     <span class="keywordflow">return</span>      f(std::forward&lt;ParamN&gt;(std::get&lt;IndexN&gt;(p))...);
<a name="l00134"></a>00134 }
<a name="l00135"></a>00135 <span class="keyword">template</span>&lt;<span class="keyword">class </span>F, <span class="keyword">class</span>... ParamN, <span class="keywordtype">int</span>... IndexN&gt;
<a name="l00136"></a><a class="code" href="namespacerxcpp_1_1util_1_1detail.html#a3f24ad6a75aa3a8959a146911de8def5">00136</a> <span class="keyword">auto</span> <a class="code" href="namespacerxcpp_1_1util_1_1detail.html#ac3c0b6543128c5781c3dda91f2f986fd">apply</a>(std::tuple&lt;ParamN...&gt; p, <a class="code" href="structrxcpp_1_1util_1_1values.html">values&lt;int, IndexN...&gt;</a>, <span class="keyword">const</span> F&amp; f)
<a name="l00137"></a>00137     -&gt; decltype(f(std::forward&lt;ParamN&gt;(std::get&lt;IndexN&gt;(p))...)) {
<a name="l00138"></a>00138     <span class="keywordflow">return</span>      f(std::forward&lt;ParamN&gt;(std::get&lt;IndexN&gt;(p))...);
<a name="l00139"></a>00139 }
<a name="l00140"></a>00140 
<a name="l00141"></a>00141 <span class="keyword">template</span>&lt;<span class="keyword">class </span>F_inner, <span class="keyword">class </span>F_outer, <span class="keyword">class</span>... ParamN, <span class="keywordtype">int</span>... IndexN&gt;
<a name="l00142"></a><a class="code" href="namespacerxcpp_1_1util_1_1detail.html#a8f1b8170823015d38c97256be8cc1531">00142</a> <span class="keyword">auto</span> <a class="code" href="namespacerxcpp_1_1util_1_1detail.html#a8f1b8170823015d38c97256be8cc1531">apply_to_each</a>(std::tuple&lt;ParamN...&gt;&amp; p, <a class="code" href="structrxcpp_1_1util_1_1values.html">values&lt;int, IndexN...&gt;</a>, F_inner&amp; f_inner, F_outer&amp; f_outer)
<a name="l00143"></a>00143     -&gt; decltype(f_outer(std::move(f_inner(std::get&lt;IndexN&gt;(p)))...)) {
<a name="l00144"></a>00144     <span class="keywordflow">return</span>      f_outer(std::move(f_inner(std::get&lt;IndexN&gt;(p)))...);
<a name="l00145"></a>00145 }
<a name="l00146"></a>00146 
<a name="l00147"></a>00147 <span class="keyword">template</span>&lt;<span class="keyword">class </span>F_inner, <span class="keyword">class </span>F_outer, <span class="keyword">class</span>... ParamN, <span class="keywordtype">int</span>... IndexN&gt;
<a name="l00148"></a><a class="code" href="namespacerxcpp_1_1util_1_1detail.html#af1d29067debfdb65444f38985eddfdff">00148</a> <span class="keyword">auto</span> <a class="code" href="namespacerxcpp_1_1util_1_1detail.html#a8f1b8170823015d38c97256be8cc1531">apply_to_each</a>(std::tuple&lt;ParamN...&gt;&amp; p, <a class="code" href="structrxcpp_1_1util_1_1values.html">values&lt;int, IndexN...&gt;</a>, <span class="keyword">const</span> F_inner&amp; f_inner, <span class="keyword">const</span> F_outer&amp; f_outer)
<a name="l00149"></a>00149     -&gt; decltype(f_outer(std::move(f_inner(std::get&lt;IndexN&gt;(p)))...)) {
<a name="l00150"></a>00150     <span class="keywordflow">return</span>      f_outer(std::move(f_inner(std::get&lt;IndexN&gt;(p)))...);
<a name="l00151"></a>00151 }
<a name="l00152"></a>00152 
<a name="l00153"></a>00153 }
<a name="l00154"></a>00154 
<a name="l00155"></a>00155 <span class="keyword">template</span>&lt;<span class="keyword">class </span>F, <span class="keyword">class</span>... ParamN&gt;
<a name="l00156"></a><a class="code" href="namespacerxcpp_1_1util.html#ab857b2a184a708a67e2f0d7236832979">00156</a> <span class="keyword">auto</span> <a class="code" href="namespacerxcpp_1_1util.html#ab857b2a184a708a67e2f0d7236832979">apply</a>(std::tuple&lt;ParamN...&gt; p, F&amp; f)
<a name="l00157"></a>00157     -&gt; decltype(<a class="code" href="namespacerxcpp_1_1util_1_1detail.html#ac3c0b6543128c5781c3dda91f2f986fd">detail::apply</a>(std::move(p), <span class="keyword">typename</span> <a class="code" href="structrxcpp_1_1util_1_1values__from.html">values_from</a>&lt;<span class="keywordtype">int</span>, <span class="keyword">sizeof</span>...(ParamN)&gt;::type(), f)) {
<a name="l00158"></a>00158     <span class="keywordflow">return</span>      <a class="code" href="namespacerxcpp_1_1util_1_1detail.html#ac3c0b6543128c5781c3dda91f2f986fd">detail::apply</a>(std::move(p), <span class="keyword">typename</span> <a class="code" href="structrxcpp_1_1util_1_1values__from.html">values_from</a>&lt;<span class="keywordtype">int</span>, <span class="keyword">sizeof</span>...(ParamN)&gt;::type(), f);
<a name="l00159"></a>00159 }
<a name="l00160"></a>00160 <span class="keyword">template</span>&lt;<span class="keyword">class </span>F, <span class="keyword">class</span>... ParamN&gt;
<a name="l00161"></a><a class="code" href="namespacerxcpp_1_1util.html#a99fa38b57649f49a11fd119421ec6a8e">00161</a> <span class="keyword">auto</span> <a class="code" href="namespacerxcpp_1_1util.html#ab857b2a184a708a67e2f0d7236832979">apply</a>(std::tuple&lt;ParamN...&gt; p, <span class="keyword">const</span> F&amp; f)
<a name="l00162"></a>00162     -&gt; decltype(<a class="code" href="namespacerxcpp_1_1util_1_1detail.html#ac3c0b6543128c5781c3dda91f2f986fd">detail::apply</a>(std::move(p), <span class="keyword">typename</span> <a class="code" href="structrxcpp_1_1util_1_1values__from.html">values_from</a>&lt;<span class="keywordtype">int</span>, <span class="keyword">sizeof</span>...(ParamN)&gt;::type(), f)) {
<a name="l00163"></a>00163     <span class="keywordflow">return</span>      <a class="code" href="namespacerxcpp_1_1util_1_1detail.html#ac3c0b6543128c5781c3dda91f2f986fd">detail::apply</a>(std::move(p), <span class="keyword">typename</span> <a class="code" href="structrxcpp_1_1util_1_1values__from.html">values_from</a>&lt;<span class="keywordtype">int</span>, <span class="keyword">sizeof</span>...(ParamN)&gt;::type(), f);
<a name="l00164"></a>00164 }
<a name="l00165"></a>00165 
<a name="l00166"></a>00166 <span class="keyword">template</span>&lt;<span class="keyword">class </span>F_inner, <span class="keyword">class </span>F_outer, <span class="keyword">class</span>... ParamN&gt;
<a name="l00167"></a><a class="code" href="namespacerxcpp_1_1util.html#ab901ea2431701f7036cf3b2392d74c40">00167</a> <span class="keyword">auto</span> <a class="code" href="namespacerxcpp_1_1util.html#ab901ea2431701f7036cf3b2392d74c40">apply_to_each</a>(std::tuple&lt;ParamN...&gt;&amp; p, F_inner&amp; f_inner, F_outer&amp; f_outer)
<a name="l00168"></a>00168     -&gt; decltype(<a class="code" href="namespacerxcpp_1_1util_1_1detail.html#a8f1b8170823015d38c97256be8cc1531">detail::apply_to_each</a>(p, <span class="keyword">typename</span> <a class="code" href="structrxcpp_1_1util_1_1values__from.html">values_from</a>&lt;<span class="keywordtype">int</span>, <span class="keyword">sizeof</span>...(ParamN)&gt;::type(), f_inner, f_outer)) {
<a name="l00169"></a>00169     <span class="keywordflow">return</span>      <a class="code" href="namespacerxcpp_1_1util_1_1detail.html#a8f1b8170823015d38c97256be8cc1531">detail::apply_to_each</a>(p, <span class="keyword">typename</span> <a class="code" href="structrxcpp_1_1util_1_1values__from.html">values_from</a>&lt;<span class="keywordtype">int</span>, <span class="keyword">sizeof</span>...(ParamN)&gt;::type(), f_inner, f_outer);
<a name="l00170"></a>00170 }
<a name="l00171"></a>00171 
<a name="l00172"></a>00172 <span class="keyword">template</span>&lt;<span class="keyword">class </span>F_inner, <span class="keyword">class </span>F_outer, <span class="keyword">class</span>... ParamN&gt;
<a name="l00173"></a><a class="code" href="namespacerxcpp_1_1util.html#a0c274f7304913fb2adcc53cb585d9116">00173</a> <span class="keyword">auto</span> <a class="code" href="namespacerxcpp_1_1util.html#ab901ea2431701f7036cf3b2392d74c40">apply_to_each</a>(std::tuple&lt;ParamN...&gt;&amp; p, <span class="keyword">const</span> F_inner&amp; f_inner, <span class="keyword">const</span> F_outer&amp; f_outer)
<a name="l00174"></a>00174     -&gt; decltype(<a class="code" href="namespacerxcpp_1_1util_1_1detail.html#a8f1b8170823015d38c97256be8cc1531">detail::apply_to_each</a>(p, <span class="keyword">typename</span> <a class="code" href="structrxcpp_1_1util_1_1values__from.html">values_from</a>&lt;<span class="keywordtype">int</span>, <span class="keyword">sizeof</span>...(ParamN)&gt;::type(), f_inner, f_outer)) {
<a name="l00175"></a>00175     <span class="keywordflow">return</span>      <a class="code" href="namespacerxcpp_1_1util_1_1detail.html#a8f1b8170823015d38c97256be8cc1531">detail::apply_to_each</a>(p, <span class="keyword">typename</span> <a class="code" href="structrxcpp_1_1util_1_1values__from.html">values_from</a>&lt;<span class="keywordtype">int</span>, <span class="keyword">sizeof</span>...(ParamN)&gt;::type(), f_inner, f_outer);
<a name="l00176"></a>00176 }
<a name="l00177"></a>00177 
<a name="l00178"></a>00178 <span class="keyword">namespace </span>detail {
<a name="l00179"></a>00179 
<a name="l00180"></a>00180 <span class="keyword">template</span>&lt;<span class="keyword">class</span> F&gt;
<a name="l00181"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1apply__to.html">00181</a> <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1detail_1_1apply__to.html">apply_to</a>
<a name="l00182"></a>00182 {
<a name="l00183"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1apply__to.html#a44e1628350f90a9cff727b54f6d71e9b">00183</a>     F <a class="code" href="structrxcpp_1_1util_1_1detail_1_1apply__to.html#a44e1628350f90a9cff727b54f6d71e9b">to</a>;
<a name="l00184"></a>00184 
<a name="l00185"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1apply__to.html#a7bb02e0c40318a21e300bd781197a8b8">00185</a>     <span class="keyword">explicit</span> <a class="code" href="structrxcpp_1_1util_1_1detail_1_1apply__to.html#a7bb02e0c40318a21e300bd781197a8b8">apply_to</a>(F f)
<a name="l00186"></a>00186         : <a class="code" href="structrxcpp_1_1util_1_1detail_1_1apply__to.html#a44e1628350f90a9cff727b54f6d71e9b">to</a>(std::move(f))
<a name="l00187"></a>00187     {
<a name="l00188"></a>00188     }
<a name="l00189"></a>00189 
<a name="l00190"></a>00190     <span class="keyword">template</span>&lt;<span class="keyword">class</span>... ParamN&gt;
<a name="l00191"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1apply__to.html#ae23029f6cf9ef5e6c80166b3ac3b62ef">00191</a>     <span class="keyword">auto</span> <a class="code" href="structrxcpp_1_1util_1_1detail_1_1apply__to.html#ae23029f6cf9ef5e6c80166b3ac3b62ef">operator()</a>(std::tuple&lt;ParamN...&gt; p)
<a name="l00192"></a>00192         -&gt; decltype(<a class="code" href="namespacerxcpp_1_1util.html#ab857b2a184a708a67e2f0d7236832979">rxcpp::util::apply</a>(std::move(p), <a class="code" href="structrxcpp_1_1util_1_1detail_1_1apply__to.html#a44e1628350f90a9cff727b54f6d71e9b">to</a>)) {
<a name="l00193"></a>00193         <span class="keywordflow">return</span>      <a class="code" href="namespacerxcpp_1_1util_1_1detail.html#ac3c0b6543128c5781c3dda91f2f986fd">rxcpp::util::apply</a>(std::move(p), <a class="code" href="structrxcpp_1_1util_1_1detail_1_1apply__to.html#a44e1628350f90a9cff727b54f6d71e9b">to</a>);
<a name="l00194"></a>00194     }
<a name="l00195"></a>00195     <span class="keyword">template</span>&lt;<span class="keyword">class</span>... ParamN&gt;
<a name="l00196"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1apply__to.html#a0067c5958f6270d2f204ffd4f71e9a00">00196</a>     <span class="keyword">auto</span> <a class="code" href="structrxcpp_1_1util_1_1detail_1_1apply__to.html#ae23029f6cf9ef5e6c80166b3ac3b62ef">operator()</a>(std::tuple&lt;ParamN...&gt; p) <span class="keyword">const</span>
<a name="l00197"></a>00197         -&gt; decltype(<a class="code" href="namespacerxcpp_1_1util.html#ab857b2a184a708a67e2f0d7236832979">rxcpp::util::apply</a>(std::move(p), <a class="code" href="structrxcpp_1_1util_1_1detail_1_1apply__to.html#a44e1628350f90a9cff727b54f6d71e9b">to</a>)) {
<a name="l00198"></a>00198         <span class="keywordflow">return</span>      <a class="code" href="namespacerxcpp_1_1util_1_1detail.html#ac3c0b6543128c5781c3dda91f2f986fd">rxcpp::util::apply</a>(std::move(p), <a class="code" href="structrxcpp_1_1util_1_1detail_1_1apply__to.html#a44e1628350f90a9cff727b54f6d71e9b">to</a>);
<a name="l00199"></a>00199     }
<a name="l00200"></a>00200 };
<a name="l00201"></a>00201 
<a name="l00202"></a>00202 }
<a name="l00203"></a>00203 
<a name="l00204"></a>00204 <span class="keyword">template</span>&lt;<span class="keyword">class</span> F&gt;
<a name="l00205"></a><a class="code" href="namespacerxcpp_1_1util.html#af2b88779ab58a666b60e9e3b5f250776">00205</a> <span class="keyword">auto</span> <a class="code" href="namespacerxcpp_1_1util.html#af2b88779ab58a666b60e9e3b5f250776">apply_to</a>(F f)
<a name="l00206"></a>00206     -&gt;      <a class="code" href="structrxcpp_1_1util_1_1detail_1_1apply__to.html">detail::apply_to&lt;F&gt;</a> {
<a name="l00207"></a>00207     <span class="keywordflow">return</span>  <a class="code" href="structrxcpp_1_1util_1_1detail_1_1apply__to.html">detail::apply_to&lt;F&gt;</a>(std::move(f));
<a name="l00208"></a>00208 }
<a name="l00209"></a>00209 
<a name="l00210"></a>00210 <span class="keyword">namespace </span>detail {
<a name="l00211"></a>00211 
<a name="l00212"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1pack.html">00212</a> <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1detail_1_1pack.html">pack</a>
<a name="l00213"></a>00213 {
<a name="l00214"></a>00214     <span class="keyword">template</span>&lt;<span class="keyword">class</span>... ParamN&gt;
<a name="l00215"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1pack.html#a1d8f6b3e6bf05f5a3284a96536931794">00215</a>     <span class="keyword">auto</span> <a class="code" href="structrxcpp_1_1util_1_1detail_1_1pack.html#a1d8f6b3e6bf05f5a3284a96536931794">operator()</a>(ParamN... pn)
<a name="l00216"></a>00216         -&gt; decltype(std::make_tuple(std::move(pn)...)) {
<a name="l00217"></a>00217         <span class="keywordflow">return</span>      std::make_tuple(std::move(pn)...);
<a name="l00218"></a>00218     }
<a name="l00219"></a>00219     <span class="keyword">template</span>&lt;<span class="keyword">class</span>... ParamN&gt;
<a name="l00220"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1pack.html#a1e63b90486f928a50564c101b8b79401">00220</a>     <span class="keyword">auto</span> <a class="code" href="structrxcpp_1_1util_1_1detail_1_1pack.html#a1d8f6b3e6bf05f5a3284a96536931794">operator()</a>(ParamN... pn) const
<a name="l00221"></a>00221         -&gt; decltype(std::make_tuple(std::move(pn)...)) {
<a name="l00222"></a>00222         <span class="keywordflow">return</span>      std::make_tuple(std::move(pn)...);
<a name="l00223"></a>00223     }
<a name="l00224"></a>00224 };
<a name="l00225"></a>00225 
<a name="l00226"></a>00226 }
<a name="l00227"></a>00227 
<a name="l00228"></a><a class="code" href="namespacerxcpp_1_1util.html#af004541371535c2cdae7aec05a096354">00228</a> <span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code" href="namespacerxcpp_1_1util.html#af004541371535c2cdae7aec05a096354">pack</a>()
<a name="l00229"></a>00229     -&gt;      <a class="code" href="structrxcpp_1_1util_1_1detail_1_1pack.html">detail::pack</a> {
<a name="l00230"></a>00230     <span class="keywordflow">return</span>  <a class="code" href="namespacerxcpp_1_1util.html#af004541371535c2cdae7aec05a096354">detail::pack</a>();
<a name="l00231"></a>00231 }
<a name="l00232"></a>00232 
<a name="l00233"></a>00233 <span class="keyword">template</span> &lt;<span class="keyword">class</span> D&gt;
<a name="l00234"></a>00234 <span class="keyword">struct </span>resolve_type;
<a name="l00235"></a>00235 
<a name="l00236"></a>00236 <span class="keyword">template</span> &lt;<span class="keyword">template</span>&lt;<span class="keyword">class</span>... TN&gt; <span class="keyword">class </span>Deferred, class... AN&gt;
<a name="l00237"></a><a class="code" href="structrxcpp_1_1util_1_1defer__trait.html">00237</a> struct <a class="code" href="structrxcpp_1_1util_1_1defer__trait.html">defer_trait</a>
<a name="l00238"></a>00238 {
<a name="l00239"></a>00239     <span class="keyword">template</span>&lt;<span class="keywordtype">bool</span> R&gt;
<a name="l00240"></a><a class="code" href="structrxcpp_1_1util_1_1defer__trait_1_1tag__valid.html#a13c4e9ae0d4bd322161b10b5de9cbabc">00240</a>     <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1defer__trait_1_1tag__valid.html">tag_valid</a> {<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> valid = <span class="keyword">true</span>; <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> value = R;};
<a name="l00241"></a><a class="code" href="structrxcpp_1_1util_1_1defer__trait_1_1tag__not__valid.html#ab0c2c230b50020ced412e986325d314a">00241</a>     <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1defer__trait_1_1tag__not__valid.html">tag_not_valid</a> {<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> valid = <span class="keyword">false</span>; <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> value = <span class="keyword">false</span>;};
<a name="l00242"></a><a class="code" href="structrxcpp_1_1util_1_1defer__trait.html#a2ded27f440e3d7928c96038d8d2473ce">00242</a>     <span class="keyword">typedef</span> Deferred&lt;typename resolve_type&lt;AN&gt;::type...&gt; <a class="code" href="structrxcpp_1_1util_1_1defer__trait.html#a2ded27f440e3d7928c96038d8d2473ce">resolved_type</a>;
<a name="l00243"></a>00243     <span class="keyword">template</span>&lt;<span class="keyword">class</span>... CN&gt;
<a name="l00244"></a>00244     <span class="keyword">static</span> <span class="keyword">auto</span> check(<span class="keywordtype">int</span>) -&gt; <a class="code" href="structrxcpp_1_1util_1_1defer__trait_1_1tag__valid.html">tag_valid&lt;resolved_type::value&gt;</a>;
<a name="l00245"></a>00245     <span class="keyword">template</span>&lt;<span class="keyword">class</span>... CN&gt;
<a name="l00246"></a>00246     <span class="keyword">static</span> <a class="code" href="structrxcpp_1_1util_1_1defer__trait_1_1tag__not__valid.html">tag_not_valid</a> check(...);
<a name="l00247"></a>00247 
<a name="l00248"></a>00248     <span class="keyword">typedef</span> decltype(check&lt;AN...&gt;(0)) tag_type;
<a name="l00249"></a><a class="code" href="structrxcpp_1_1util_1_1defer__trait.html#aa23984ad0a8739e3bad4784120243b9e">00249</a>     static const <span class="keywordtype">bool</span> valid = tag_type::valid;
<a name="l00250"></a><a class="code" href="structrxcpp_1_1util_1_1defer__trait.html#ab527692fbd64f4abce98edc967a0d08d">00250</a>     static const <span class="keywordtype">bool</span> value = tag_type::value;
<a name="l00251"></a><a class="code" href="structrxcpp_1_1util_1_1defer__trait.html#a2a3f97c7a3dd59258ba27fc9cc4f5110">00251</a>     static const <span class="keywordtype">bool</span> not_value = valid &amp;&amp; !value;
<a name="l00252"></a>00252 };
<a name="l00253"></a>00253 
<a name="l00254"></a>00254 template &lt;template&lt;class... TN&gt; class Deferred, class... AN&gt;
<a name="l00255"></a><a class="code" href="structrxcpp_1_1util_1_1defer__type.html">00255</a> struct <a class="code" href="structrxcpp_1_1util_1_1defer__type.html">defer_type</a>
<a name="l00256"></a>00256 {
<a name="l00257"></a>00257     <span class="keyword">template</span>&lt;<span class="keyword">class</span> R&gt;
<a name="l00258"></a><a class="code" href="structrxcpp_1_1util_1_1defer__type_1_1tag__valid.html#aa177f461172700d7f5f16bdb59d73fdf">00258</a>     <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1defer__type_1_1tag__valid.html">tag_valid</a> {<span class="keyword">typedef</span> R <a class="code" href="structrxcpp_1_1util_1_1defer__type_1_1tag__valid.html#a0f21c6b9df35c92e681db07e7739b4c1">type</a>; <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> value = <span class="keyword">true</span>;};
<a name="l00259"></a><a class="code" href="structrxcpp_1_1util_1_1defer__type_1_1tag__not__valid.html#afb29e8843d686b7ffae244857c0ffc70">00259</a>     <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1defer__type_1_1tag__not__valid.html">tag_not_valid</a> {<span class="keyword">typedef</span> <span class="keywordtype">void</span> <a class="code" href="structrxcpp_1_1util_1_1defer__type_1_1tag__not__valid.html#a85847ef96661463de966fee0e4cc7579">type</a>; <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> value = <span class="keyword">false</span>;};
<a name="l00260"></a><a class="code" href="structrxcpp_1_1util_1_1defer__type.html#a3e4824e7c84f94399ede387279eddd76">00260</a>     <span class="keyword">typedef</span> Deferred&lt;typename resolve_type&lt;AN&gt;::type...&gt; <a class="code" href="structrxcpp_1_1util_1_1defer__type.html#a3e4824e7c84f94399ede387279eddd76">resolved_type</a>;
<a name="l00261"></a>00261     <span class="keyword">template</span>&lt;<span class="keyword">class</span>... CN&gt;
<a name="l00262"></a>00262     <span class="keyword">static</span> <span class="keyword">auto</span> check(<span class="keywordtype">int</span>) -&gt; <a class="code" href="structrxcpp_1_1util_1_1defer__type_1_1tag__valid.html">tag_valid&lt;resolved_type&gt;</a>;
<a name="l00263"></a>00263     <span class="keyword">template</span>&lt;<span class="keyword">class</span>... CN&gt;
<a name="l00264"></a>00264     <span class="keyword">static</span> <a class="code" href="structrxcpp_1_1util_1_1defer__type_1_1tag__not__valid.html">tag_not_valid</a> check(...);
<a name="l00265"></a>00265 
<a name="l00266"></a>00266     <span class="keyword">typedef</span> decltype(check&lt;AN...&gt;(0)) tag_type;
<a name="l00267"></a><a class="code" href="structrxcpp_1_1util_1_1defer__type.html#a4db432a0ed1b9689b9e618449a446548">00267</a>     typedef typename tag_type::<a class="code" href="structrxcpp_1_1util_1_1defer__type.html#a4db432a0ed1b9689b9e618449a446548">type</a> <a class="code" href="structrxcpp_1_1util_1_1defer__type.html#a4db432a0ed1b9689b9e618449a446548">type</a>;
<a name="l00268"></a><a class="code" href="structrxcpp_1_1util_1_1defer__type.html#a5f38086083a8ac47349f584124b5ee94">00268</a>     static const <span class="keywordtype">bool</span> value = tag_type::value;
<a name="l00269"></a>00269 };
<a name="l00270"></a>00270 
<a name="l00271"></a>00271 template &lt;template&lt;class... TN&gt; class Deferred, class... AN&gt;
<a name="l00272"></a><a class="code" href="structrxcpp_1_1util_1_1defer__value__type.html">00272</a> struct <a class="code" href="structrxcpp_1_1util_1_1defer__value__type.html">defer_value_type</a>
<a name="l00273"></a>00273 {
<a name="l00274"></a>00274     <span class="keyword">template</span>&lt;<span class="keyword">class</span> R&gt;
<a name="l00275"></a><a class="code" href="structrxcpp_1_1util_1_1defer__value__type_1_1tag__valid.html#a4430987afcf155dfad9f1125c8c77140">00275</a>     <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1defer__value__type_1_1tag__valid.html">tag_valid</a> {<span class="keyword">typedef</span> R type; <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> value = <span class="keyword">true</span>;};
<a name="l00276"></a><a class="code" href="structrxcpp_1_1util_1_1defer__value__type_1_1tag__not__valid.html#ad8464fc360514c88e52582a8a0e1fbb7">00276</a>     <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1defer__value__type_1_1tag__not__valid.html">tag_not_valid</a> {<span class="keyword">typedef</span> <span class="keywordtype">void</span> type; <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> value = <span class="keyword">false</span>;};
<a name="l00277"></a><a class="code" href="structrxcpp_1_1util_1_1defer__value__type.html#ae0de58b498836efe215606d28ae8a681">00277</a>     <span class="keyword">typedef</span> Deferred&lt;typename resolve_type&lt;AN&gt;::type...&gt; <a class="code" href="structrxcpp_1_1util_1_1defer__value__type.html#ae0de58b498836efe215606d28ae8a681">resolved_type</a>;
<a name="l00278"></a>00278     <span class="keyword">template</span>&lt;<span class="keyword">class</span>... CN&gt;
<a name="l00279"></a>00279     <span class="keyword">static</span> <span class="keyword">auto</span> check(<span class="keywordtype">int</span>) -&gt; <a class="code" href="structrxcpp_1_1util_1_1defer__value__type_1_1tag__valid.html">tag_valid&lt;value_type_t&lt;resolved_type&gt;</a>&gt;;
<a name="l00280"></a>00280     <span class="keyword">template</span>&lt;<span class="keyword">class</span>... CN&gt;
<a name="l00281"></a>00281     <span class="keyword">static</span> <a class="code" href="structrxcpp_1_1util_1_1defer__value__type_1_1tag__not__valid.html">tag_not_valid</a> check(...);
<a name="l00282"></a>00282 
<a name="l00283"></a>00283     <span class="keyword">typedef</span> decltype(check&lt;AN...&gt;(0)) tag_type;
<a name="l00284"></a><a class="code" href="structrxcpp_1_1util_1_1defer__value__type.html#a4e8832dd813cf8efcfbaf4b4d1757e52">00284</a>     typedef typename tag_type::type type;
<a name="l00285"></a><a class="code" href="structrxcpp_1_1util_1_1defer__value__type.html#aa88e11b8f1515f8b2ddb577791720dc3">00285</a>     static const <span class="keywordtype">bool</span> value = tag_type::value;
<a name="l00286"></a>00286 };
<a name="l00287"></a>00287 
<a name="l00288"></a>00288 template &lt;template&lt;class... TN&gt; class Deferred, class... AN&gt;
<a name="l00289"></a><a class="code" href="structrxcpp_1_1util_1_1defer__seed__type.html">00289</a> struct <a class="code" href="structrxcpp_1_1util_1_1defer__seed__type.html">defer_seed_type</a>
<a name="l00290"></a>00290 {
<a name="l00291"></a>00291     <span class="keyword">template</span>&lt;<span class="keyword">class</span> R&gt;
<a name="l00292"></a><a class="code" href="structrxcpp_1_1util_1_1defer__seed__type_1_1tag__valid.html#ab83c5f912fa77135a4df2f29a7126c41">00292</a>     <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1defer__seed__type_1_1tag__valid.html">tag_valid</a> {<span class="keyword">typedef</span> R type; <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> value = <span class="keyword">true</span>;};
<a name="l00293"></a><a class="code" href="structrxcpp_1_1util_1_1defer__seed__type_1_1tag__not__valid.html#a7cc76ea58098c67dbcad1db2403aece5">00293</a>     <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1defer__seed__type_1_1tag__not__valid.html">tag_not_valid</a> {<span class="keyword">typedef</span> <span class="keywordtype">void</span> type; <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> value = <span class="keyword">false</span>;};
<a name="l00294"></a><a class="code" href="structrxcpp_1_1util_1_1defer__seed__type.html#af71e7f3bf2f4178d182bc7e2d5e96699">00294</a>     <span class="keyword">typedef</span> Deferred&lt;typename resolve_type&lt;AN&gt;::type...&gt; <a class="code" href="structrxcpp_1_1util_1_1defer__seed__type.html#af71e7f3bf2f4178d182bc7e2d5e96699">resolved_type</a>;
<a name="l00295"></a>00295     <span class="keyword">template</span>&lt;<span class="keyword">class</span>... CN&gt;
<a name="l00296"></a>00296     <span class="keyword">static</span> <span class="keyword">auto</span> check(<span class="keywordtype">int</span>) -&gt; <a class="code" href="structrxcpp_1_1util_1_1defer__seed__type_1_1tag__valid.html">tag_valid&lt;typename resolved_type::seed_type&gt;</a>;
<a name="l00297"></a>00297     <span class="keyword">template</span>&lt;<span class="keyword">class</span>... CN&gt;
<a name="l00298"></a>00298     <span class="keyword">static</span> <a class="code" href="structrxcpp_1_1util_1_1defer__seed__type_1_1tag__not__valid.html">tag_not_valid</a> check(...);
<a name="l00299"></a>00299 
<a name="l00300"></a>00300     <span class="keyword">typedef</span> decltype(check&lt;AN...&gt;(0)) tag_type;
<a name="l00301"></a><a class="code" href="structrxcpp_1_1util_1_1defer__seed__type.html#ad18f53dc00d4c34199c506b0c0a97217">00301</a>     typedef typename tag_type::type type;
<a name="l00302"></a><a class="code" href="structrxcpp_1_1util_1_1defer__seed__type.html#a454b233ee185866b3f8a179c9324f245">00302</a>     static const <span class="keywordtype">bool</span> value = tag_type::value;
<a name="l00303"></a>00303 };
<a name="l00304"></a>00304 
<a name="l00305"></a>00305 template &lt;class D&gt;
<a name="l00306"></a><a class="code" href="structrxcpp_1_1util_1_1resolve__type.html">00306</a> struct <a class="code" href="structrxcpp_1_1util_1_1resolve__type.html">resolve_type</a>
<a name="l00307"></a>00307 {
<a name="l00308"></a><a class="code" href="structrxcpp_1_1util_1_1resolve__type.html#aa812b9967f1cb579d4b17b7f2b90d0fc">00308</a>     <span class="keyword">typedef</span> D <a class="code" href="structrxcpp_1_1util_1_1resolve__type.html#aa812b9967f1cb579d4b17b7f2b90d0fc">type</a>;
<a name="l00309"></a>00309 };
<a name="l00310"></a>00310 <span class="keyword">template</span> &lt;<span class="keyword">template</span>&lt;<span class="keyword">class</span>... TN&gt; <span class="keyword">class </span>Deferred, class... AN&gt;
<a name="l00311"></a><a class="code" href="structrxcpp_1_1util_1_1resolve__type_3_01defer__type_3_01_deferred_00_01_a_n_8_8_8_4_01_4.html">00311</a> struct <a class="code" href="structrxcpp_1_1util_1_1resolve__type.html">resolve_type</a>&lt;defer_type&lt;Deferred, AN...&gt;&gt;
<a name="l00312"></a>00312 {
<a name="l00313"></a><a class="code" href="structrxcpp_1_1util_1_1resolve__type_3_01defer__type_3_01_deferred_00_01_a_n_8_8_8_4_01_4.html#af564c9bfa613141d94dfa2d72de3c53a">00313</a>     <span class="keyword">typedef</span> <span class="keyword">typename</span> defer_type&lt;Deferred, AN...&gt;<a class="code" href="structrxcpp_1_1util_1_1resolve__type_3_01defer__type_3_01_deferred_00_01_a_n_8_8_8_4_01_4.html#af564c9bfa613141d94dfa2d72de3c53a">::type</a> <a class="code" href="structrxcpp_1_1util_1_1resolve__type_3_01defer__type_3_01_deferred_00_01_a_n_8_8_8_4_01_4.html#af564c9bfa613141d94dfa2d72de3c53a">type</a>;
<a name="l00314"></a>00314 };
<a name="l00315"></a>00315 <span class="keyword">template</span> &lt;<span class="keyword">template</span>&lt;<span class="keyword">class</span>... TN&gt; <span class="keyword">class </span>Deferred, class... AN&gt;
<a name="l00316"></a><a class="code" href="structrxcpp_1_1util_1_1resolve__type_3_01defer__value__type_3_01_deferred_00_01_a_n_8_8_8_4_01_4.html">00316</a> struct <a class="code" href="structrxcpp_1_1util_1_1resolve__type.html">resolve_type</a>&lt;defer_value_type&lt;Deferred, AN...&gt;&gt;
<a name="l00317"></a>00317 {
<a name="l00318"></a><a class="code" href="structrxcpp_1_1util_1_1resolve__type_3_01defer__value__type_3_01_deferred_00_01_a_n_8_8_8_4_01_4.html#a53b815d5c51149828c3bf62fc6919f0e">00318</a>     <span class="keyword">typedef</span> <span class="keyword">typename</span> defer_value_type&lt;Deferred, AN...&gt;<a class="code" href="structrxcpp_1_1util_1_1resolve__type_3_01defer__value__type_3_01_deferred_00_01_a_n_8_8_8_4_01_4.html#a53b815d5c51149828c3bf62fc6919f0e">::type</a> <a class="code" href="structrxcpp_1_1util_1_1resolve__type_3_01defer__value__type_3_01_deferred_00_01_a_n_8_8_8_4_01_4.html#a53b815d5c51149828c3bf62fc6919f0e">type</a>;
<a name="l00319"></a>00319 };
<a name="l00320"></a>00320 <span class="keyword">template</span> &lt;<span class="keyword">template</span>&lt;<span class="keyword">class</span>... TN&gt; <span class="keyword">class </span>Deferred, class... AN&gt;
<a name="l00321"></a><a class="code" href="structrxcpp_1_1util_1_1resolve__type_3_01defer__seed__type_3_01_deferred_00_01_a_n_8_8_8_4_01_4.html">00321</a> struct <a class="code" href="structrxcpp_1_1util_1_1resolve__type.html">resolve_type</a>&lt;defer_seed_type&lt;Deferred, AN...&gt;&gt;
<a name="l00322"></a>00322 {
<a name="l00323"></a><a class="code" href="structrxcpp_1_1util_1_1resolve__type_3_01defer__seed__type_3_01_deferred_00_01_a_n_8_8_8_4_01_4.html#a698d003c250eebc504f47187b144871f">00323</a>     <span class="keyword">typedef</span> <span class="keyword">typename</span> defer_seed_type&lt;Deferred, AN...&gt;<a class="code" href="structrxcpp_1_1util_1_1resolve__type_3_01defer__seed__type_3_01_deferred_00_01_a_n_8_8_8_4_01_4.html#a698d003c250eebc504f47187b144871f">::type</a> <a class="code" href="structrxcpp_1_1util_1_1resolve__type_3_01defer__seed__type_3_01_deferred_00_01_a_n_8_8_8_4_01_4.html#a698d003c250eebc504f47187b144871f">type</a>;
<a name="l00324"></a>00324 };
<a name="l00325"></a>00325 
<a name="l00326"></a><a class="code" href="structrxcpp_1_1util_1_1plus.html">00326</a> <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1plus.html">plus</a>
<a name="l00327"></a>00327 {
<a name="l00328"></a>00328     <span class="keyword">template</span> &lt;<span class="keyword">class</span> LHS, <span class="keyword">class</span> RHS&gt;
<a name="l00329"></a><a class="code" href="structrxcpp_1_1util_1_1plus.html#a9f36bee1120d171b4fe03c58466f479f">00329</a>     <span class="keyword">auto</span> operator()(LHS&amp;&amp; lhs, RHS&amp;&amp; rhs) const
<a name="l00330"></a>00330         -&gt; decltype(std::forward&lt;LHS&gt;(lhs) + std::forward&lt;RHS&gt;(rhs))
<a name="l00331"></a>00331         { <span class="keywordflow">return</span> std::forward&lt;LHS&gt;(lhs) + std::forward&lt;RHS&gt;(rhs); }
<a name="l00332"></a>00332 };
<a name="l00333"></a>00333 
<a name="l00334"></a><a class="code" href="structrxcpp_1_1util_1_1less.html">00334</a> <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1less.html">less</a>
<a name="l00335"></a>00335 {
<a name="l00336"></a>00336     <span class="keyword">template</span> &lt;<span class="keyword">class</span> LHS, <span class="keyword">class</span> RHS&gt;
<a name="l00337"></a><a class="code" href="structrxcpp_1_1util_1_1less.html#a8e0dc206ce8f0d11a4cdd04c7af2d499">00337</a>     <span class="keyword">auto</span> operator()(LHS&amp;&amp; lhs, RHS&amp;&amp; rhs) const
<a name="l00338"></a>00338         -&gt; decltype(std::forward&lt;LHS&gt;(lhs) &lt; std::forward&lt;RHS&gt;(rhs))
<a name="l00339"></a>00339         { <span class="keywordflow">return</span> std::forward&lt;LHS&gt;(lhs) &lt; std::forward&lt;RHS&gt;(rhs); }
<a name="l00340"></a>00340 };
<a name="l00341"></a>00341 
<a name="l00342"></a>00342 <span class="keyword">namespace </span>detail {
<a name="l00343"></a>00343 <span class="keyword">template</span>&lt;<span class="keyword">class</span> OStream, <span class="keyword">class</span> Delimit&gt;
<a name="l00344"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1print__function.html">00344</a> <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1detail_1_1print__function.html">print_function</a>
<a name="l00345"></a>00345 {
<a name="l00346"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1print__function.html#abf83d3d19955e94e3a5a99086507dd72">00346</a>     OStream&amp; <a class="code" href="structrxcpp_1_1util_1_1detail_1_1print__function.html#abf83d3d19955e94e3a5a99086507dd72">os</a>;
<a name="l00347"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1print__function.html#add341106d1e1dfed279cb8b29ae677b9">00347</a>     Delimit <a class="code" href="structrxcpp_1_1util_1_1detail_1_1print__function.html#add341106d1e1dfed279cb8b29ae677b9">delimit</a>;
<a name="l00348"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1print__function.html#ac8a8e7aaeef2baa36e38cdf9ad2a2672">00348</a>     <a class="code" href="structrxcpp_1_1util_1_1detail_1_1print__function.html#ac8a8e7aaeef2baa36e38cdf9ad2a2672">print_function</a>(OStream&amp; os, Delimit d) : os(os), delimit(std::move(d)) {}
<a name="l00349"></a>00349 
<a name="l00350"></a>00350     <span class="keyword">template</span>&lt;<span class="keyword">class</span>... TN&gt;
<a name="l00351"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1print__function.html#a9c8d7715d74279d922a10581d43fe4cd">00351</a>     <span class="keywordtype">void</span> <a class="code" href="structrxcpp_1_1util_1_1detail_1_1print__function.html#a9c8d7715d74279d922a10581d43fe4cd">operator()</a>(<span class="keyword">const</span> TN&amp;... tn)<span class="keyword"> const </span>{
<a name="l00352"></a>00352         <span class="keywordtype">bool</span> inserts[] = {(os &lt;&lt; tn, <span class="keyword">true</span>)...};
<a name="l00353"></a>00353         inserts[0] = *(inserts); <span class="comment">// silence warning</span>
<a name="l00354"></a>00354         delimit();
<a name="l00355"></a>00355     }
<a name="l00356"></a>00356 
<a name="l00357"></a>00357     <span class="keyword">template</span>&lt;<span class="keyword">class</span>... TN&gt;
<a name="l00358"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1print__function.html#a88af34ae4c434e5cfbf2b50266f7c80e">00358</a>     <span class="keywordtype">void</span> <a class="code" href="structrxcpp_1_1util_1_1detail_1_1print__function.html#a88af34ae4c434e5cfbf2b50266f7c80e">operator()</a>(<span class="keyword">const</span> std::tuple&lt;TN...&gt;&amp; tpl)<span class="keyword"> const </span>{
<a name="l00359"></a>00359         <a class="code" href="namespacerxcpp_1_1util.html#ab857b2a184a708a67e2f0d7236832979">rxcpp::util::apply</a>(tpl, *<span class="keyword">this</span>);
<a name="l00360"></a>00360     }
<a name="l00361"></a>00361 };
<a name="l00362"></a>00362 
<a name="l00363"></a>00363 <span class="keyword">template</span>&lt;<span class="keyword">class</span> OStream&gt;
<a name="l00364"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1endline.html">00364</a> <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1detail_1_1endline.html">endline</a>
<a name="l00365"></a>00365 {
<a name="l00366"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1endline.html#ae7944191e53ae1cdb5a5f89f87457593">00366</a>     OStream&amp; <a class="code" href="structrxcpp_1_1util_1_1detail_1_1endline.html#ae7944191e53ae1cdb5a5f89f87457593">os</a>;
<a name="l00367"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1endline.html#add6fa8bdc9cae88f25e72913ea171b82">00367</a>     <a class="code" href="structrxcpp_1_1util_1_1detail_1_1endline.html#add6fa8bdc9cae88f25e72913ea171b82">endline</a>(OStream&amp; os) : os(os) {}
<a name="l00368"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1endline.html#a3a3898efcc4fa252370a3158f31955bd">00368</a>     <span class="keywordtype">void</span> <a class="code" href="structrxcpp_1_1util_1_1detail_1_1endline.html#a3a3898efcc4fa252370a3158f31955bd">operator()</a>()<span class="keyword"> const </span>{
<a name="l00369"></a>00369         os &lt;&lt; std::endl;
<a name="l00370"></a>00370     }
<a name="l00371"></a>00371 <span class="keyword">private</span>:
<a name="l00372"></a>00372     <a class="code" href="structrxcpp_1_1util_1_1detail_1_1endline.html">endline</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="structrxcpp_1_1util_1_1detail_1_1endline.html">endline</a>&amp;) RXCPP_DELETE;
<a name="l00373"></a>00373 };
<a name="l00374"></a>00374 
<a name="l00375"></a>00375 template&lt;class OStream, class ValueType&gt;
<a name="l00376"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__value.html">00376</a> struct <a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__value.html">insert_value</a>
<a name="l00377"></a>00377 {
<a name="l00378"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__value.html#a1daddefb57eefe0addcd59f54d9280c8">00378</a>     OStream&amp; <a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__value.html#a1daddefb57eefe0addcd59f54d9280c8">os</a>;
<a name="l00379"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__value.html#a674af5eef1a706f8b48a84543e974d4a">00379</a>     ValueType <a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__value.html#a674af5eef1a706f8b48a84543e974d4a">value</a>;
<a name="l00380"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__value.html#a5d5330bb942715b1dec13ccf9282f525">00380</a>     <a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__value.html#a5d5330bb942715b1dec13ccf9282f525">insert_value</a>(OStream&amp; os, ValueType v) : os(os), value(std::move(v)) {}
<a name="l00381"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__value.html#a4fd1c4f94ac23c6062ee348a11074d1c">00381</a>     <span class="keywordtype">void</span> <a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__value.html#a4fd1c4f94ac23c6062ee348a11074d1c">operator()</a>()<span class="keyword"> const </span>{
<a name="l00382"></a>00382         os &lt;&lt; value;
<a name="l00383"></a>00383     }
<a name="l00384"></a>00384 <span class="keyword">private</span>:
<a name="l00385"></a>00385     insert_value&amp; operator=(<span class="keyword">const</span> insert_value&amp;) RXCPP_DELETE;
<a name="l00386"></a>00386 };
<a name="l00387"></a>00387 
<a name="l00388"></a>00388 template&lt;class OStream, class Function&gt;
<a name="l00389"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__function.html">00389</a> struct <a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__function.html">insert_function</a>
<a name="l00390"></a>00390 {
<a name="l00391"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__function.html#a22b66140d5b248ff6409d478a9040c7f">00391</a>     OStream&amp; <a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__function.html#a22b66140d5b248ff6409d478a9040c7f">os</a>;
<a name="l00392"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__function.html#aa4c6257fb7a580d4fdc6791faf8eaf67">00392</a>     Function <a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__function.html#aa4c6257fb7a580d4fdc6791faf8eaf67">call</a>;
<a name="l00393"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__function.html#a032f86f77ef25b9f66a45fd859dcca91">00393</a>     <a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__function.html#a032f86f77ef25b9f66a45fd859dcca91">insert_function</a>(OStream&amp; os, Function f) : os(os), call(std::move(f)) {}
<a name="l00394"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__function.html#a051b27ba676b6b264a55096f75c7170f">00394</a>     <span class="keywordtype">void</span> <a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__function.html#a051b27ba676b6b264a55096f75c7170f">operator()</a>()<span class="keyword"> const </span>{
<a name="l00395"></a>00395         call(os);
<a name="l00396"></a>00396     }
<a name="l00397"></a>00397 <span class="keyword">private</span>:
<a name="l00398"></a>00398     insert_function&amp; operator=(<span class="keyword">const</span> insert_function&amp;) RXCPP_DELETE;
<a name="l00399"></a>00399 };
<a name="l00400"></a>00400 
<a name="l00401"></a>00401 template&lt;class OStream, class Delimit&gt;
<a name="l00402"></a><a class="code" href="namespacerxcpp_1_1util_1_1detail.html#a4f078f9855ccc542377f09a4037e38bc">00402</a> auto <a class="code" href="namespacerxcpp_1_1util.html#a7ebd259abd72f75cd6c84d72c1a0f363">print_followed_with</a>(OStream&amp; os, Delimit d)
<a name="l00403"></a>00403     -&gt;      detail::<a class="code" href="structrxcpp_1_1util_1_1detail_1_1print__function.html">print_function</a>&lt;OStream, Delimit&gt; {
<a name="l00404"></a>00404     <span class="keywordflow">return</span>  <a class="code" href="structrxcpp_1_1util_1_1detail_1_1print__function.html">detail::print_function&lt;OStream, Delimit&gt;</a>(os, std::move(d));
<a name="l00405"></a>00405 }
<a name="l00406"></a>00406 
<a name="l00407"></a>00407 }
<a name="l00408"></a>00408 
<a name="l00409"></a>00409 <span class="keyword">template</span>&lt;<span class="keyword">class</span> OStream&gt;
<a name="l00410"></a><a class="code" href="namespacerxcpp_1_1util.html#a39a6a34f5848fcc7b639330bc3043358">00410</a> <span class="keyword">auto</span> <a class="code" href="namespacerxcpp_1_1util.html#a39a6a34f5848fcc7b639330bc3043358">endline</a>(OStream&amp; os)
<a name="l00411"></a>00411     -&gt; <a class="code" href="structrxcpp_1_1util_1_1detail_1_1endline.html">detail::endline&lt;OStream&gt;</a> {
<a name="l00412"></a>00412     <span class="keywordflow">return</span> <a class="code" href="structrxcpp_1_1util_1_1detail_1_1endline.html">detail::endline&lt;OStream&gt;</a>(os);
<a name="l00413"></a>00413 }
<a name="l00414"></a>00414 
<a name="l00415"></a>00415 <span class="keyword">template</span>&lt;<span class="keyword">class</span> OStream&gt;
<a name="l00416"></a><a class="code" href="namespacerxcpp_1_1util.html#ae7b58ac6ada507976d0f021084746381">00416</a> <span class="keyword">auto</span> <a class="code" href="namespacerxcpp_1_1util.html#ae7b58ac6ada507976d0f021084746381">println</a>(OStream&amp; os)
<a name="l00417"></a>00417     -&gt; decltype(<a class="code" href="namespacerxcpp_1_1util_1_1detail.html#a4f078f9855ccc542377f09a4037e38bc">detail::print_followed_with</a>(os, <a class="code" href="namespacerxcpp_1_1util.html#a39a6a34f5848fcc7b639330bc3043358">endline</a>(os))) {
<a name="l00418"></a>00418     <span class="keywordflow">return</span>      <a class="code" href="namespacerxcpp_1_1util.html#a7ebd259abd72f75cd6c84d72c1a0f363">detail::print_followed_with</a>(os, <a class="code" href="namespacerxcpp_1_1util.html#a39a6a34f5848fcc7b639330bc3043358">endline</a>(os));
<a name="l00419"></a>00419 }
<a name="l00420"></a>00420 <span class="keyword">template</span>&lt;<span class="keyword">class</span> OStream, <span class="keyword">class</span> Delimit&gt;
<a name="l00421"></a><a class="code" href="namespacerxcpp_1_1util.html#a7ebd259abd72f75cd6c84d72c1a0f363">00421</a> <span class="keyword">auto</span> <a class="code" href="namespacerxcpp_1_1util.html#a7ebd259abd72f75cd6c84d72c1a0f363">print_followed_with</a>(OStream&amp; os, Delimit d)
<a name="l00422"></a>00422     -&gt; decltype(<a class="code" href="namespacerxcpp_1_1util_1_1detail.html#a4f078f9855ccc542377f09a4037e38bc">detail::print_followed_with</a>(os, <a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__function.html">detail::insert_function&lt;OStream, Delimit&gt;</a>(os, std::move(d)))) {
<a name="l00423"></a>00423     <span class="keywordflow">return</span>      <a class="code" href="namespacerxcpp_1_1util.html#a7ebd259abd72f75cd6c84d72c1a0f363">detail::print_followed_with</a>(os, <a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__function.html">detail::insert_function&lt;OStream, Delimit&gt;</a>(os, std::move(d)));
<a name="l00424"></a>00424 }
<a name="l00425"></a>00425 <span class="keyword">template</span>&lt;<span class="keyword">class</span> OStream, <span class="keyword">class</span> DelimitValue&gt;
<a name="l00426"></a><a class="code" href="namespacerxcpp_1_1util.html#af764a474e46c025110e78acbaf4eb628">00426</a> <span class="keyword">auto</span> <a class="code" href="namespacerxcpp_1_1util.html#af764a474e46c025110e78acbaf4eb628">print_followed_by</a>(OStream&amp; os, DelimitValue dv)
<a name="l00427"></a>00427     -&gt; decltype(<a class="code" href="namespacerxcpp_1_1util_1_1detail.html#a4f078f9855ccc542377f09a4037e38bc">detail::print_followed_with</a>(os, <a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__value.html">detail::insert_value&lt;OStream, DelimitValue&gt;</a>(os, std::move(dv)))) {
<a name="l00428"></a>00428     <span class="keywordflow">return</span>      <a class="code" href="namespacerxcpp_1_1util.html#a7ebd259abd72f75cd6c84d72c1a0f363">detail::print_followed_with</a>(os, <a class="code" href="structrxcpp_1_1util_1_1detail_1_1insert__value.html">detail::insert_value&lt;OStream, DelimitValue&gt;</a>(os, std::move(dv)));
<a name="l00429"></a>00429 }
<a name="l00430"></a>00430 
<a name="l00431"></a>00431 <span class="keyword">namespace </span>detail {
<a name="l00432"></a>00432 
<a name="l00433"></a>00433 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00434"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html">00434</a> <span class="keyword">class </span><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html">maybe</a>
<a name="l00435"></a>00435 {
<a name="l00436"></a>00436     <span class="keywordtype">bool</span> is_set;
<a name="l00437"></a>00437     <span class="keyword">typename</span> std::aligned_storage&lt;sizeof(T), std::alignment_of&lt;T&gt;::value&gt;::type
<a name="l00438"></a>00438         storage;
<a name="l00439"></a>00439 <span class="keyword">public</span>:
<a name="l00440"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a41e638edb37e8f25ffdf762016fecb21">00440</a>     <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html">maybe</a>()
<a name="l00441"></a>00441     : is_set(false)
<a name="l00442"></a>00442     {
<a name="l00443"></a>00443     }
<a name="l00444"></a>00444 
<a name="l00445"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a04dd250273e3b6032f693b7517042d5a">00445</a>     <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html">maybe</a>(T value)
<a name="l00446"></a>00446     : is_set(false)
<a name="l00447"></a>00447     {
<a name="l00448"></a>00448         <span class="keyword">new</span> (<span class="keyword">reinterpret_cast&lt;</span>T*<span class="keyword">&gt;</span>(&amp;storage)) T(value);
<a name="l00449"></a>00449         is_set = <span class="keyword">true</span>;
<a name="l00450"></a>00450     }
<a name="l00451"></a>00451 
<a name="l00452"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a50dcb624a76aaf88fc873ccf3712bdc8">00452</a>     <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html">maybe</a>(<span class="keyword">const</span> <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html">maybe</a>&amp; other)
<a name="l00453"></a>00453     : is_set(false)
<a name="l00454"></a>00454     {
<a name="l00455"></a>00455         <span class="keywordflow">if</span> (other.is_set) {
<a name="l00456"></a>00456             <span class="keyword">new</span> (<span class="keyword">reinterpret_cast&lt;</span>T*<span class="keyword">&gt;</span>(&amp;storage)) T(other.<a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#ad8a065e0876cbf0c25f3dd7fb8e13daf">get</a>());
<a name="l00457"></a>00457             is_set = <span class="keyword">true</span>;
<a name="l00458"></a>00458         }
<a name="l00459"></a>00459     }
<a name="l00460"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a341e65fa779ef51e4da9d957c97ae79c">00460</a>     <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html">maybe</a>(<a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html">maybe</a>&amp;&amp; other)
<a name="l00461"></a>00461     : is_set(false)
<a name="l00462"></a>00462     {
<a name="l00463"></a>00463         <span class="keywordflow">if</span> (other.is_set) {
<a name="l00464"></a>00464             <span class="keyword">new</span> (<span class="keyword">reinterpret_cast&lt;</span>T*<span class="keyword">&gt;</span>(&amp;storage)) T(std::move(other.get()));
<a name="l00465"></a>00465             is_set = <span class="keyword">true</span>;
<a name="l00466"></a>00466             other.reset();
<a name="l00467"></a>00467         }
<a name="l00468"></a>00468     }
<a name="l00469"></a>00469 
<a name="l00470"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a9e8c986dd6c18c5a59d00955a3315bdc">00470</a>     ~<a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html">maybe</a>()
<a name="l00471"></a>00471     {
<a name="l00472"></a>00472         reset();
<a name="l00473"></a>00473     }
<a name="l00474"></a>00474 
<a name="l00475"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#addeff394c4009231a85619a4088bb89e">00475</a>     <span class="keyword">typedef</span> T <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#addeff394c4009231a85619a4088bb89e">value_type</a>;
<a name="l00476"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#aef6ae386376b0de296a1eaa8d7b0842f">00476</a>     <span class="keyword">typedef</span> T* <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#aef6ae386376b0de296a1eaa8d7b0842f">iterator</a>;
<a name="l00477"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a3302a4d34fe8ddf0055a4533ce2fda9f">00477</a>     <span class="keyword">typedef</span> <span class="keyword">const</span> T* <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a3302a4d34fe8ddf0055a4533ce2fda9f">const_iterator</a>;
<a name="l00478"></a>00478 
<a name="l00479"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a767579a6186a9f76ce9451bb86e80ce0">00479</a>     <span class="keywordtype">bool</span> <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a767579a6186a9f76ce9451bb86e80ce0">empty</a>()<span class="keyword"> const </span>{
<a name="l00480"></a>00480         <span class="keywordflow">return</span> !is_set;
<a name="l00481"></a>00481     }
<a name="l00482"></a>00482 
<a name="l00483"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#ab8cbafef5ad6247edfdddbed926593a6">00483</a>     <span class="keywordtype">size_t</span> <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#ab8cbafef5ad6247edfdddbed926593a6">size</a>()<span class="keyword"> const </span>{
<a name="l00484"></a>00484         <span class="keywordflow">return</span> is_set ? 1 : 0;
<a name="l00485"></a>00485     }
<a name="l00486"></a>00486 
<a name="l00487"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a4476af6ea9842ab9055ed17b209002da">00487</a>     <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#aef6ae386376b0de296a1eaa8d7b0842f">iterator</a> <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a4476af6ea9842ab9055ed17b209002da">begin</a>() {
<a name="l00488"></a>00488         <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>T*<span class="keyword">&gt;</span>(&amp;storage);
<a name="l00489"></a>00489     }
<a name="l00490"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a37e7b1eebe1cdf9e51eae1d10471bd63">00490</a>     <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a3302a4d34fe8ddf0055a4533ce2fda9f">const_iterator</a> <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a37e7b1eebe1cdf9e51eae1d10471bd63">begin</a>()<span class="keyword"> const </span>{
<a name="l00491"></a>00491         <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>T*<span class="keyword">&gt;</span>(&amp;storage);
<a name="l00492"></a>00492     }
<a name="l00493"></a>00493 
<a name="l00494"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#acf1032c64f8150e6fea96d1585ff097b">00494</a>     <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#aef6ae386376b0de296a1eaa8d7b0842f">iterator</a> <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#acf1032c64f8150e6fea96d1585ff097b">end</a>() {
<a name="l00495"></a>00495         <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>T*<span class="keyword">&gt;</span>(&amp;storage) + size();
<a name="l00496"></a>00496     }
<a name="l00497"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#afe8ee0dc246c74a753a76eac37075e80">00497</a>     <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a3302a4d34fe8ddf0055a4533ce2fda9f">const_iterator</a> <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#afe8ee0dc246c74a753a76eac37075e80">end</a>()<span class="keyword"> const </span>{
<a name="l00498"></a>00498         <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>T*<span class="keyword">&gt;</span>(&amp;storage) + size();
<a name="l00499"></a>00499     }
<a name="l00500"></a>00500 
<a name="l00501"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a38df24245a8699a0af6990e58dc2d512">00501</a>     T* <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a38df24245a8699a0af6990e58dc2d512">operator-&gt;</a>() {
<a name="l00502"></a>00502         <span class="keywordflow">if</span> (!is_set) abort();
<a name="l00503"></a>00503         <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>T*<span class="keyword">&gt;</span>(&amp;storage);
<a name="l00504"></a>00504     }
<a name="l00505"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#ad7b948da95a896c10daaac502c8cca1e">00505</a>     <span class="keyword">const</span> T* <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#ad7b948da95a896c10daaac502c8cca1e">operator-&gt;</a>()<span class="keyword"> const </span>{
<a name="l00506"></a>00506         <span class="keywordflow">if</span> (!is_set) abort();
<a name="l00507"></a>00507         <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>T*<span class="keyword">&gt;</span>(&amp;storage);
<a name="l00508"></a>00508     }
<a name="l00509"></a>00509 
<a name="l00510"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a7c4882dcba42edc1352053b6ddb9c82a">00510</a>     T&amp; <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a7c4882dcba42edc1352053b6ddb9c82a">operator*</a>() {
<a name="l00511"></a>00511         <span class="keywordflow">if</span> (!is_set) abort();
<a name="l00512"></a>00512         <span class="keywordflow">return</span> *<span class="keyword">reinterpret_cast&lt;</span>T*<span class="keyword">&gt;</span>(&amp;storage);
<a name="l00513"></a>00513     }
<a name="l00514"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#ae185833f08d3339953e00cd214e0ffc9">00514</a>     <span class="keyword">const</span> T&amp; <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#ae185833f08d3339953e00cd214e0ffc9">operator*</a>()<span class="keyword"> const </span>{
<a name="l00515"></a>00515         <span class="keywordflow">if</span> (!is_set) abort();
<a name="l00516"></a>00516         <span class="keywordflow">return</span> *<span class="keyword">reinterpret_cast&lt;</span>T*<span class="keyword">&gt;</span>(&amp;storage);
<a name="l00517"></a>00517     }
<a name="l00518"></a>00518 
<a name="l00519"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#ad8a065e0876cbf0c25f3dd7fb8e13daf">00519</a>     T&amp; <span class="keyword">get</span>() {
<a name="l00520"></a>00520         <span class="keywordflow">if</span> (!is_set) abort();
<a name="l00521"></a>00521         <span class="keywordflow">return</span> *<span class="keyword">reinterpret_cast&lt;</span>T*<span class="keyword">&gt;</span>(&amp;storage);
<a name="l00522"></a>00522     }
<a name="l00523"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#af4a175b028c6fbd7a2a48d4d180a4363">00523</a>     <span class="keyword">const</span> T&amp; <span class="keyword">get</span>() <span class="keyword">const</span> {
<a name="l00524"></a>00524         <span class="keywordflow">if</span> (!is_set) abort();
<a name="l00525"></a>00525         <span class="keywordflow">return</span> *<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>T*<span class="keyword">&gt;</span>(&amp;storage);
<a name="l00526"></a>00526     }
<a name="l00527"></a>00527 
<a name="l00528"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a3815e683361a46e7ce47cb8cd79d829d">00528</a>     <span class="keywordtype">void</span> reset()
<a name="l00529"></a>00529     {
<a name="l00530"></a>00530         <span class="keywordflow">if</span> (is_set) {
<a name="l00531"></a>00531             is_set = <span class="keyword">false</span>;
<a name="l00532"></a>00532             <span class="keyword">reinterpret_cast&lt;</span>T*<span class="keyword">&gt;</span>(&amp;storage)-&gt;~T();
<a name="l00533"></a>00533             <span class="comment">//std::fill_n(reinterpret_cast&lt;char*&gt;(&amp;storage), sizeof(T), 0);</span>
<a name="l00534"></a>00534         }
<a name="l00535"></a>00535     }
<a name="l00536"></a>00536 
<a name="l00537"></a>00537     <span class="keyword">template</span>&lt;<span class="keyword">class</span> U&gt;
<a name="l00538"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a7e8a7c0e213aebfa802ff4ecfd1ddfac">00538</a>     <span class="keywordtype">void</span> <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a7e8a7c0e213aebfa802ff4ecfd1ddfac">reset</a>(U&amp;&amp; value) {
<a name="l00539"></a>00539         reset();
<a name="l00540"></a>00540         <span class="keyword">new</span> (<span class="keyword">reinterpret_cast&lt;</span>T*<span class="keyword">&gt;</span>(&amp;storage)) T(std::forward&lt;U&gt;(value));
<a name="l00541"></a>00541         is_set = <span class="keyword">true</span>;
<a name="l00542"></a>00542     }
<a name="l00543"></a>00543 
<a name="l00544"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a05fdff7ba969e5155eacb2e703ba2d44">00544</a>     <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html">maybe</a>&amp; <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a05fdff7ba969e5155eacb2e703ba2d44">operator=</a>(<span class="keyword">const</span> T&amp; other) {
<a name="l00545"></a>00545         reset(other);
<a name="l00546"></a>00546         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00547"></a>00547     }
<a name="l00548"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a0459c4e6aac6d1a34ded28e5aa788a88">00548</a>     <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html">maybe</a>&amp; <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a0459c4e6aac6d1a34ded28e5aa788a88">operator=</a>(<span class="keyword">const</span> <a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html">maybe</a>&amp; other) {
<a name="l00549"></a>00549         <span class="keywordflow">if</span> (!other.<a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#a767579a6186a9f76ce9451bb86e80ce0">empty</a>()) {
<a name="l00550"></a>00550             reset(other.<a class="code" href="classrxcpp_1_1util_1_1detail_1_1maybe.html#ad8a065e0876cbf0c25f3dd7fb8e13daf">get</a>());
<a name="l00551"></a>00551         } <span class="keywordflow">else</span> {
<a name="l00552"></a>00552             reset();
<a name="l00553"></a>00553         }
<a name="l00554"></a>00554         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00555"></a>00555     }
<a name="l00556"></a>00556 };
<a name="l00557"></a>00557 
<a name="l00558"></a>00558 }
<a name="l00559"></a>00559 <span class="keyword">using</span> detail::maybe;
<a name="l00560"></a>00560 
<a name="l00561"></a>00561 <span class="keyword">namespace </span>detail {
<a name="l00562"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1surely.html">00562</a>     <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1detail_1_1surely.html">surely</a>
<a name="l00563"></a>00563     {
<a name="l00564"></a>00564         <span class="keyword">template</span>&lt;<span class="keyword">class</span>... T&gt;
<a name="l00565"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1surely.html#a56eb59830c8cbe0adccff8613f1a3c4a">00565</a>         <span class="keyword">auto</span> operator()(T... t)
<a name="l00566"></a>00566             -&gt; decltype(std::make_tuple(t.get()...)) {
<a name="l00567"></a>00567             <span class="keywordflow">return</span>      std::make_tuple(t.get()...);
<a name="l00568"></a>00568         }
<a name="l00569"></a>00569         <span class="keyword">template</span>&lt;<span class="keyword">class</span>... T&gt;
<a name="l00570"></a><a class="code" href="structrxcpp_1_1util_1_1detail_1_1surely.html#ae02c10b95c0f785c70b387654b99f89a">00570</a>         <span class="keyword">auto</span> operator()(T... t) const
<a name="l00571"></a>00571             -&gt; decltype(std::make_tuple(t.get()...)) {
<a name="l00572"></a>00572             <span class="keywordflow">return</span>      std::make_tuple(t.get()...);
<a name="l00573"></a>00573         }
<a name="l00574"></a>00574     };
<a name="l00575"></a>00575 }
<a name="l00576"></a>00576 
<a name="l00577"></a>00577 <span class="keyword">template</span>&lt;<span class="keyword">class</span>... T&gt;
<a name="l00578"></a>00578 <span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code" href="namespacerxcpp_1_1util.html#a0d2f9d60caec4d4d157e9370865fc651">surely</a>(<span class="keyword">const</span> std::tuple&lt;T...&gt;&amp; tpl)
<a name="l00579"></a>00579     -&gt; decltype(<a class="code" href="namespacerxcpp_1_1util.html#ab857b2a184a708a67e2f0d7236832979">apply</a>(tpl, <a class="code" href="namespacerxcpp_1_1util.html#a0d2f9d60caec4d4d157e9370865fc651">detail::surely</a>())) {
<a name="l00580"></a>00580     <span class="keywordflow">return</span>      <a class="code" href="namespacerxcpp_1_1util.html#ab857b2a184a708a67e2f0d7236832979">apply</a>(tpl, <a class="code" href="namespacerxcpp_1_1util.html#a0d2f9d60caec4d4d157e9370865fc651">detail::surely</a>());
<a name="l00581"></a>00581 }
<a name="l00582"></a>00582 
<a name="l00583"></a><a class="code" href="structrxcpp_1_1util_1_1list__not__empty.html">00583</a> <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1list__not__empty.html">list_not_empty</a> {
<a name="l00584"></a>00584     <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00585"></a><a class="code" href="structrxcpp_1_1util_1_1list__not__empty.html#a469d7574d6cf2834e11e1a0e871ab7be">00585</a>     <span class="keywordtype">bool</span> <a class="code" href="structrxcpp_1_1util_1_1list__not__empty.html#a469d7574d6cf2834e11e1a0e871ab7be">operator()</a>(std::list&lt;T&gt;&amp; list)<span class="keyword"> const </span>{
<a name="l00586"></a>00586         <span class="keywordflow">return</span> !list.empty();
<a name="l00587"></a>00587     }
<a name="l00588"></a>00588 };
<a name="l00589"></a>00589 
<a name="l00590"></a><a class="code" href="structrxcpp_1_1util_1_1extract__list__front.html">00590</a> <span class="keyword">struct </span><a class="code" href="structrxcpp_1_1util_1_1extract__list__front.html">extract_list_front</a> {
<a name="l00591"></a>00591     <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00592"></a><a class="code" href="structrxcpp_1_1util_1_1extract__list__front.html#aa6d629895c5e187e5ae7988449ca18ae">00592</a>     T <a class="code" href="structrxcpp_1_1util_1_1extract__list__front.html#aa6d629895c5e187e5ae7988449ca18ae">operator()</a>(std::list&lt;T&gt;&amp; list)<span class="keyword"> const </span>{
<a name="l00593"></a>00593         <span class="keyword">auto</span> val = std::move(list.front());
<a name="l00594"></a>00594         list.pop_front();
<a name="l00595"></a>00595         <span class="keywordflow">return</span> val;
<a name="l00596"></a>00596     }
<a name="l00597"></a>00597 };
<a name="l00598"></a>00598 
<a name="l00599"></a>00599 <span class="keyword">namespace </span>detail {
<a name="l00600"></a>00600 
<a name="l00601"></a>00601 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Function&gt;
<a name="l00602"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1unwinder.html">00602</a> <span class="keyword">class </span><a class="code" href="classrxcpp_1_1util_1_1detail_1_1unwinder.html">unwinder</a>
<a name="l00603"></a>00603 {
<a name="l00604"></a>00604 <span class="keyword">public</span>:
<a name="l00605"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1unwinder.html#a37263c1d852ce65a06ca5abceb949de2">00605</a>     ~<a class="code" href="classrxcpp_1_1util_1_1detail_1_1unwinder.html">unwinder</a>()
<a name="l00606"></a>00606     {
<a name="l00607"></a>00607         <span class="keywordflow">if</span> (!!<span class="keyword">function</span>)
<a name="l00608"></a>00608         {
<a name="l00609"></a>00609             <span class="keywordflow">try</span> {
<a name="l00610"></a>00610                 (*function)();
<a name="l00611"></a>00611             } <span class="keywordflow">catch</span> (...) {
<a name="l00612"></a>00612                 std::unexpected();
<a name="l00613"></a>00613             }
<a name="l00614"></a>00614         }
<a name="l00615"></a>00615     }
<a name="l00616"></a>00616 
<a name="l00617"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1unwinder.html#a971698ac52ce80700139d2087d5439e6">00617</a>     <span class="keyword">explicit</span> <a class="code" href="classrxcpp_1_1util_1_1detail_1_1unwinder.html">unwinder</a>(Function* functionArg)
<a name="l00618"></a>00618         : function(functionArg)
<a name="l00619"></a>00619     {
<a name="l00620"></a>00620     }
<a name="l00621"></a>00621 
<a name="l00622"></a><a class="code" href="classrxcpp_1_1util_1_1detail_1_1unwinder.html#aef98f3949174f839fbbc0f37a3e8b1ba">00622</a>     <span class="keywordtype">void</span> dismiss()
<a name="l00623"></a>00623     {
<a name="l00624"></a>00624         <span class="keyword">function</span> = <span class="keyword">nullptr</span>;
<a name="l00625"></a>00625     }
<a name="l00626"></a>00626 
<a name="l00627"></a>00627 <span class="keyword">private</span>:
<a name="l00628"></a>00628     <a class="code" href="classrxcpp_1_1util_1_1detail_1_1unwinder.html">unwinder</a>();
<a name="l00629"></a>00629     <a class="code" href="classrxcpp_1_1util_1_1detail_1_1unwinder.html">unwinder</a>(<span class="keyword">const</span> <a class="code" href="classrxcpp_1_1util_1_1detail_1_1unwinder.html">unwinder</a>&amp;);
<a name="l00630"></a>00630     <a class="code" href="classrxcpp_1_1util_1_1detail_1_1unwinder.html">unwinder</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classrxcpp_1_1util_1_1detail_1_1unwinder.html">unwinder</a>&amp;);
<a name="l00631"></a>00631 
<a name="l00632"></a>00632     Function* <span class="keyword">function</span>;
<a name="l00633"></a>00633 };
<a name="l00634"></a>00634 
<a name="l00635"></a>00635 }
<a name="l00636"></a>00636 
<a name="l00637"></a>00637 <span class="preprocessor">#if !defined(RXCPP_THREAD_LOCAL)</span>
<a name="l00638"></a>00638 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00639"></a>00639 <span class="keyword">class </span>thread_local_storage
<a name="l00640"></a>00640 {
<a name="l00641"></a>00641 <span class="keyword">private</span>:
<a name="l00642"></a>00642     pthread_key_t key;
<a name="l00643"></a>00643 
<a name="l00644"></a>00644 <span class="keyword">public</span>:
<a name="l00645"></a>00645     thread_local_storage()
<a name="l00646"></a>00646     {
<a name="l00647"></a>00647         pthread_key_create(&amp;key, NULL);
<a name="l00648"></a>00648     }
<a name="l00649"></a>00649 
<a name="l00650"></a>00650     ~thread_local_storage()
<a name="l00651"></a>00651     {
<a name="l00652"></a>00652         pthread_key_delete(key);
<a name="l00653"></a>00653     }
<a name="l00654"></a>00654 
<a name="l00655"></a>00655     thread_local_storage&amp; operator =(T* p)
<a name="l00656"></a>00656     {
<a name="l00657"></a>00657         pthread_setspecific(key, p);
<a name="l00658"></a>00658         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00659"></a>00659     }
<a name="l00660"></a>00660 
<a name="l00661"></a>00661     <span class="keywordtype">bool</span> operator !()
<a name="l00662"></a>00662     {
<a name="l00663"></a>00663         <span class="keywordflow">return</span> pthread_getspecific(key) == NULL;
<a name="l00664"></a>00664     }
<a name="l00665"></a>00665 
<a name="l00666"></a>00666     T* operator -&gt;()
<a name="l00667"></a>00667     {
<a name="l00668"></a>00668         <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>T*<span class="keyword">&gt;</span>(pthread_getspecific(key));
<a name="l00669"></a>00669     }
<a name="l00670"></a>00670 
<a name="l00671"></a>00671     T* <span class="keyword">get</span>()
<a name="l00672"></a>00672     {
<a name="l00673"></a>00673         <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>T*<span class="keyword">&gt;</span>(pthread_getspecific(key));
<a name="l00674"></a>00674     }
<a name="l00675"></a>00675 };
<a name="l00676"></a>00676 <span class="preprocessor">#endif</span>
<a name="l00677"></a>00677 <span class="preprocessor"></span>
<a name="l00678"></a>00678 }
<a name="l00679"></a>00679 <span class="keyword">namespace </span>rxu=util;
<a name="l00680"></a>00680 
<a name="l00681"></a>00681 }
<a name="l00682"></a>00682 
<a name="l00683"></a><a class="code" href="rx-util_8hpp.html#ad2f80815f62216e3475057f7e513542e">00683</a> <span class="preprocessor">#define RXCPP_UNWIND(Name, Function) \</span>
<a name="l00684"></a>00684 <span class="preprocessor">    RXCPP_UNWIND_EXPLICIT(uwfunc_ ## Name, Name, Function)</span>
<a name="l00685"></a>00685 <span class="preprocessor"></span>
<a name="l00686"></a><a class="code" href="rx-util_8hpp.html#a912fdad694fea41459d08f46dcb5bd8f">00686</a> <span class="preprocessor">#define RXCPP_UNWIND_AUTO(Function) \</span>
<a name="l00687"></a>00687 <span class="preprocessor">    RXCPP_UNWIND_EXPLICIT(RXCPP_MAKE_IDENTIFIER(uwfunc_), RXCPP_MAKE_IDENTIFIER(unwind_), Function)</span>
<a name="l00688"></a>00688 <span class="preprocessor"></span>
<a name="l00689"></a><a class="code" href="rx-util_8hpp.html#aa2c8f9a38b04be94e232cae65228ed0e">00689</a> <span class="preprocessor">#define RXCPP_UNWIND_EXPLICIT(FunctionName, UnwinderName, Function) \</span>
<a name="l00690"></a>00690 <span class="preprocessor">    auto FunctionName = (Function); \</span>
<a name="l00691"></a>00691 <span class="preprocessor">    rxcpp::util::detail::unwinder&lt;decltype(FunctionName)&gt; UnwinderName(std::addressof(FunctionName))</span>
<a name="l00692"></a>00692 <span class="preprocessor"></span>
<a name="l00693"></a>00693 <span class="preprocessor">#endif</span>
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Sun May 17 2015 13:59:33 for RxCpp by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
